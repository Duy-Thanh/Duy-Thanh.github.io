<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Sharing - Files</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.5/styles/default.min.css">
</head>
<body>
    <div class="files-container">
        <div class="header">
            <div class="title-section">
                <h2>File Sharing System</h2>
                <p class="subtitle">Share and manage your files securely</p>
            </div>
            <div class="user-controls">
                <span id="userStatus" class="user-status"></span>
                <button onclick="window.location.href='/'" class="nav-btn">Home</button>
                <button onclick="window.location.href='/blog.html'" class="nav-btn">Blog</button>
                <button onclick="logout()" class="logout-btn">Logout</button>
            </div>
        </div>
        
        <div id="uploadSection" class="upload-section" style="display: none;">
            <h3>Upload New File</h3>
            <form id="uploadForm" enctype="multipart/form-data">
                <input type="file" id="fileInput" name="file" style="display: none;">
                <label for="fileInput" class="choose-file-btn">Choose File</label>
                <span class="file-name-display">No file chosen</span>
                <button type="submit" class="upload-btn">Upload File</button>
            </form>
        </div>

        <div class="files-section">
            <h3 style="padding-bottom: 10px;">Available Files</h3>
            <div id="fileList" class="file-list">
                <!-- Files will be loaded here dynamically -->
                <div class="loading">Loading files...</div>
            </div>
        </div>
    </div>

    <!-- Add this modal HTML -->
    <div id="authModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Authentication Required</h3>
            <p>You need to login or continue as guest to access the file sharing system.</p>
            <div class="modal-buttons">
                <button onclick="window.location.href='/login.html?redirect=files'" class="nav-btn">Login as Admin</button>
                <button onclick="continueAsGuest()" class="guest-button">Continue as Guest</button>
                <button onclick="window.location.href='/'" class="cancel-btn">Back to Home</button>
            </div>
        </div>
    </div>

    <script src="def.js"></script>
    <script src="files.js"></script>
</body>
</html>